{% extends "base.html" %}
{% load static %}
{% block content %}

{# ✅ VIDEO (thumbnail + link) #}
{% if lesson.youtube_id %}
  <div class="text-center my-4">
    <a href="{{ lesson.youtube_watch_url }}" target="_blank" rel="noopener">
      <img
        src="{{ lesson.youtube_thumbnail }}"
        alt="Watch lesson video"
        class="img-fluid rounded shadow"
        style="max-width: 720px;"
      >
    </a>

    <div class="mt-3">
      <a
        href="{{ lesson.youtube_watch_url }}"
        target="_blank"
        rel="noopener"
        class="btn btn-danger px-4"
      >
        ▶ Watch on YouTube
      </a>
    </div>

    <div class="small text-muted mt-2">
      After watching, complete the activity below to unlock the next mission.
    </div>
  </div>
{% endif %}

{# ✅ ACTIVITY LOADER (single clean block) #}
{% if lesson.activity_type == "order" %}
  {% include "activities/order_block.html" %}

{% elif lesson.activity_type == "choice" %}
  {% include "activities/choice_card.html" %}

{% elif lesson.activity_type == "mouse" %}
  {% include "activities/mouse_practice.html" %}

{% elif lesson.activity_type == "typing" %}
  {% include "activities/keyboard_game.html" %}

{% elif lesson.activity_type == "tidy" %}
  {% include "activities/tidy_computer.html" %}

{% elif lesson.activity_type == "triple" %}
  {% include "activities/digital_skills_3in1.html" %}

  {% elif lesson.activity_type == "foundations3" %}
  {% include "activities/digital_foundations_3in1.html" %}

  {% elif lesson.activity_type == "files3" %}
  {% include "activities/files_folders_3in1.html" %}



{% else %}
  <div class="container my-4">
    <div class="alert alert-info">No activity for this lesson yet.</div>
  </div>
{% endif %}

{% endblock %}
